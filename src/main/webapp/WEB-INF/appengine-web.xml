<?xml version="1.0" encoding="utf-8"?>
<appengine-web-app xmlns="http://appengine.google.com/ns/1.0">
    <threadsafe>true</threadsafe>
    <sessions-enabled>false</sessions-enabled>
    <runtime>java8</runtime>

    <!-- We force 1 instance all the time (auto-scaling => frontend instance => 28 hours-instances per day => no exceeding of the free quota) -->
    <automatic-scaling>
        <min-instances>1</min-instances>
        <max-instances>1</max-instances>
    </automatic-scaling>

    <system-properties>
        <property name="java.util.logging.config.file" value="WEB-INF/logging.properties"/>
    </system-properties>

    <static-files>
        <!-- Static HTML files, that should have a Content-Security-Policy -->
        <include path="/*.html">
            <http-header name="Content-Security-Policy" value="default-src 'self'; style-src 'self' 'unsafe-inline' https://stackpath.bootstrapcdn.com; frame-ancestors 'none'; object-src 'none';"/>
        </include>
        <include path="/discord-bots/timezone-bot/*.html">
            <http-header name="Content-Security-Policy" value="default-src 'self'; style-src 'self' 'unsafe-inline' https://stackpath.bootstrapcdn.com; frame-ancestors 'none'; object-src 'none';"/>
        </include>

        <!-- Static images, CSS and JS, that don't need anything -->
        <include path="/celeste/*"/>
        <include path="/css/*"/>
        <include path="/img/*"/>
        <include path="/js/*"/>
    </static-files>
</appengine-web-app>